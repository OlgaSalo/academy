# Урок 7.  –  Зрізи та множини

### **Мета** заняття:

Отримати знання стосовно зрізів та множин, їх структури, вбудованих методів, області застосування.

### Актуалізація опорних знань 

1. Змінні і типи даних, оголошення змінних, обробка строкових даних
2. Списки: структура, вбудовані методи
3. Циклічні оператори
4. Зчитування даних користувача

### Основні питання, що будуть розглянуті 

1. Поняття зрізів, способи їх використання
2. Поняття множин, особливості їх елементів
3. Вбудовані методи для роботи з множинами

### Срезы в Python \(Slice\)

Для упорядоченных контейнеров есть специальный синтаксис когда нам необходимо получить некоторую последовательность элементов из контейнера. Например, если мы хотим получить первые 5 букв строки:

```text
some_str = "This is awesome string"
first_five = some_str[0:5]
```

`first_five` в этом примере будет содержать строку `'This '`.

Синтаксис состоит в указании индекса первого элемента среза, индекса до которого \(не включительно\) брать элементы в новую последовательность и шага с которым брать элементы между начальным и конечным индексом в квадратных скобках разделив их двоеточием.

![](../../.gitbook/assets/image%20%28142%29.png)

![](../../.gitbook/assets/image%20%28145%29.png)



```text
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

odd_numbers = [0:10:2]
even_numbers = [1:10:2]
three_numbers = [2:10:3]
```

В `odd_numbers` \(непарні числа\) мы берем числа начиная с индекса 0 до 10 с шагом в 2 \(получим \[1, 3, 5, 7, 9\]\).

В `even_numbers` \(парні числа\) мы берем числа начиная с индекса 1 до 10 с шагом в 2 \(получим \[2, 4, 6, 8\]\).

В `three_numbers` мы берем числа начиная с индекса 2 до 10 с шагом в 3 \(получим \[3, 6, 9\]\).

Вы можете не указывать начальный, конечный индекс или шаг пропуская его. По умолчанию Python возьмет срез с начала и до последнего элемента с шагом в 1. Перепишем предыдущий пример в сокращенном синтаксисе:

```text
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

odd_numbers = [::2]
even_numbers = [1::2]
three_numbers = [2:10:3]

numbers_copy = numbers[:]
```

`numbers_copy` в этом примере — это срез, который берет все элементы `numbers` от начала и до конца с шагом 1.

Также важно помнить, что в срез не входит элемент с индексом до которого брать элементы.

### Найбільш поширені варіанти використання

```text
a[start:stop]  	# items start through stop-1
a[start:]     	 # items start through the rest of the array
a[:stop]       	# items from the beginning through stop-1
a[:]           	# a copy of the whole array

a[-1]    		# last item in the array
a[-2:]   		# last two items in the array
a[:-2]   		# everything except the last two items
```

Виконання команди з кроком 2

![](../../.gitbook/assets/image%20%28144%29.png)

### Практична робота

Задана строка, яка містить ім’я та прізвище користувача, розділені пробілом. Написати програму з використанням зрізів, яка виокремлює ім’я та прізвище.

```text
pip = 'Ivan Ivanov'
delimiter = ' '

if not delimiter in pip:
    print('error')
else:
    position = pip.find(delimiter);
    
    first_name = pip[0:position]
    last_name = pip[position + 1:]
    
    print('First name is: ', first_name)
    print('Last name is: ', last_name)
```

### Практична робота

Задано список номерів мобільних телефонів. Вважаючи, що всі номери записані у форматі +38 \(код\) 111-11-11, порахувати кількість абонентів оператора, що має коди «067», «097», «068»

```text
phones = ['+38(067) 999-99-99', '+38(066) 999-99-99','+38(067) 888-88-88', '+38(068) 777-77-77']

operator_codes = ['067', '097', '068']

abonents_count = 0

for number in phones :
    operator_code = number[4:4+3]
    if operator_code in operator_codes :
        abonents_count += 1

print('Abonents count for operator Kyivstar:', abonents_count)
```

### Множества

Sets are used to store multiple items in a single variable.

Set is one of 4 built-in data types in Python used to store collections of data, the other 3 are List, Tuple, and Dictionary, all with different qualities and usage.

Множество — это неупорядоченный контейнер, который содержит только уникальные элементы. В множество можно добавлять только неизменяемые типы данных.

Прикладами множин може бути гральна колода карт, перелік номерних знаків авто, телефонний довідник, серія та номер паспорту.

Есть только один способ создать пустое множество:

```text
a = set()
print(a)    # set()
```

Для создания заполненного множества достаточно передать любой итерируемый объект в функцию `set`:

```text
a = set('hello')
print(a)    # {'e', 'h', 'l', 'o'} {'h', 'e', 'o', 'l'}
```

Или же воспользоваться синтаксисом с фигурными скобками \(как у словарей\), но элементы в фигурных скобках просто перечислить через запятую без двоеточий:

```text
b = {1, 2, 3, 4}
```

Уникальность подразумевает, что если множество уже содержит такой элемент, то попытка добавить ещё один такой же ничего не изменит.

```text
numbers = {1, 2, 3, 1, 2, 3}
print(numbers)    # {1, 2, 3}
```

### Практична робота

Оголосити множину кодів мобільних операторів і вивести її на екран.

```text
codes = {'067', '097', '068', '050', '066', '099', '0063', '093'}
print(codes)
```

### Методы множеств

Множества поддерживают следующие методы:

* add\(elem\) — добавляет элемент в множество
* remove\(elem\) — удаляет элемент из множества, вызывает исключение, если такого элемента нет
* discard\(elem\) — удаляет элемент из множества и не вызывает исключения если его нету

```text
numbers = {1, 2, 3}
numbers.add(4)
print(numbers)    # {1, 2, 3, 4}

numbers = {1, 2, 3}
numbers.remove(3)
print(numbers)    # {1, 2}

numbers = {1, 2, 3}
numbers.discard(2)
print(numbers)    # {1, 3}
```

### Практична робота

Оголосити множину продуктових товарів, що складається з двох елементів. Додати два нових товари. Спробувати видалити неіснуючий та існуючий товар. Після кожного кроку вивести множину на екран.

```text
goods = {"apple", "banana", "cherry"}
print(goods)

goods.add('plum')
goods.add('peach')
goods.add('banana')
print(goods)

#goods.remove('all')
#print(goods)

if 'all' in goods :
    goods.remove('all')
else :
    goods.discard('all')

    
goods.remove('banana')
print(goods)
```

### Математические операции над множествами

Давайте детальнее рассмотрим какие полезные математические операции можно производить над множествами. Для начала создадим множества a и b:

```text
a = set('hello')
print(a)    # {'e', 'h', 'l', 'o'}

b = set('hi there!')
print(b)    # {'r', ' ', 'i', 'e', '!', 'h', 't'}
```

Найдем все элементы из двух множеств кроме общих при помощи оператора ^ \(XOR\):

```text
a ^ b   # {' ', '!', 'i', 'l', 'o', 'r', 't'}


a | b   # {' ', '!', 'e', 'h', 'i', 'l', 'o', 'r', 't'}
```

Множества — это очень мощный инструмент когда необходимо найти уникальные элементы в каком-то наборе и брать дубликаты. Множество — это также самый быстрый способ найти общие или отличные элементы из нескольких наборов.

Чтобы найти общие элементы для двух множеств выполним над ними операцию & \(AND\):

```text
a & b   # {'e', 'h'}
```

Объединение множеств, или просто все элементы из обоих множеств находятся при помощи оператора \| \(OR\):

```text
a | b   # {' ', '!', 'e', 'h', 'i', 'l', 'o', 'r', 't'}
```

### Практична робота

Дано список клієнтів, які купили товар А та список клієнтів, які купили товар В.

Знайти:

* клієнтів, які купили обидва товари А і B
* створити один список клієнтів, шляхом операції об’єднання
* вивести результати на екран

```text
customers_A = {'Ivanov', 'Petrov', 'Sidorov'}
customers_B = {'Ivanova', 'Petrova', 'Sidorov'}

customers_A_B = customers_A & customers_B
print(customers_A_B)

customers_all = customers_A | customers_B 
print(customers_all)

print(customers_B.union(customers_A))

print(sorted(customers_all))
```

### Домашня робота

Дано строку, яка містить довільне речення, слова в якому розділені пробілами. З використанням зрізів знайти і вивести слово, як має найбільшу довжину

