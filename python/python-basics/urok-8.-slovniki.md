# Урок 8.  –  Словники

### Мета заняття:

Oтримати знання стосовно словників, їх структури, вбудованих методів, області застосування.

### Актуалізація опорних знань 

1. Змінні і типи даних, оголошення змінних, обробка строкових даних  
2. Списки: структура, вбудовані методи
3. Циклічні оператори
4. Зчитування даних користувача

### Основні питання, що будуть розглянуті 

1. Поняття словників, способи їх використання
2. Пошук та редагування елементів словників
3. Вбудовані методи для роботи з словниками

### Словари

Словарь — это контейнер который хранит пары ключ-значение.

Если вспомнить такую структуру как список, то доступ к его элементам осуществляется по индексу, который представляет собой целое неотрицательное число, причем мы сами, непосредственно, не участвуем в его создании \(индекса\). В словаре аналогом индекса является ключ, при этом ответственность за его формирование ложится на программиста.

Ключом может быть любой неизменяемый тип данных Python \(число, строка, кортеж, пр.\). Невозможно использовать в качестве ключа списки, словари, множества или любые другие изменяемые типы данных. Значением словаря может быть любой тип данных Python включая пользовательские типы.

![](../../.gitbook/assets/image%20%28141%29.png)

### Создание словаря

Пустой словарь можно создать, используя функцию dict\(\), либо просто указав пустые фигурные скобки.

### Практична робота

Створити словник «місяці», в якості ключа виступає порядковий номер місяця, в якості значення – його назва.

```text
monthes = {1:  'січень',
           2:  'лютий',
           3:  'березень',
           4:  'квітень',
           5:  'травень',
           6:  'червень',
           7:  'липень',
           8:  'серпень',
           9:  'вересень',
           10: 'жовтень',
           11: 'листтопад',
           12: 'грудень'}
print(monthes)
```

Створити словник «курси валют», в якості ключа виступає міжнародне позначення валюти \(USD, EUR, GBP\), в якості значення – його курс по відношенні до гривні.

```text
currencies = {'USD': 27.3, 'EUR': 33.4, 'GBP': 37.21}
print(currencies)
```

### Методы словарей

Некоторые наиболее часто используемые методы словарей:

* get\(key\[, default\]\) — не вызывает исключения, если ключа нет в словаре, возвращает default, по умолчанию default=None chars = {'a': 1, 'b': 2} c\_idx = chars.get\('c', -1\) print\(c\_idx\) \# -1
* Добавление нового элемента в словарь

Для того чтобы добавить в словарь новые данные достаточно новому ключу этого словаря назначить какое-либо значение. Добавление выглядит так:

![](../../.gitbook/assets/image%20%28143%29.png)

```text
chars = {'a': 1, 'b': 2}
chars['c'] = 3
print(chars)  # {'a': 1, 'b': 2, 'c': 3}
```

* pop\(key\) — возвращает значение элемента и удаляет пару ключ-значение из словаря

```text
chars = {'a': 1, 'b': 2}
b_num = chars.pop('b')
print(chars)  # {'a': 1}
print(b_num)  # 2
```

* clear\(\) — очищает словарь не создавая нового

```text
chars = {'a': 1, 'b': 2}
chars.clear()
print(chars)  # {}
```

* update\(another\_dict\) — расширяет словарь значениями из другого словаря

```text
chars = {'a': 1, 'b': 2}
chars.update({"c": 3})
print(chars)  # {'a': 1, 'b': 2, "c": 3}
```

* copy\(\) — возвращает копию словаря

```text
chars = {'a': 1, 'b': 2}
chars_copy = chars.copy()
chars_copy == chars  # True
```

### Практична робота

В словнику «місяці» - отримати назву місяця по його ключу

```text
monthes = {1:  'січень',
           2:  'лютий',
           3:  'березень',
           4:  'квітень',
           5:  'травень',
           6:  'червень',
           7:  'липень',
           8:  'серпень',
           9:  'вересень',
           10: 'жовтень',
           11: 'листтопад',
           12: 'грудень'}

report_date = '31.06.2021';

month = int(report_date[3:5])

month_name = monthes[month] 

print('Звіт за', month_name)
```

Додати в існуючий словник «курси валют», курс польського злотого, оновити курс долара та євро. Розрахувати обмінну операцію продажу довільної кількості іноземної валюти

```text
currencies = {'USD':  27.32, 'EUR': 33.42, 'GBP': 37.21}
currencies['PLN'] = 6.91
currencies['USD'] = 27.41
currencies['EUR'] = 33.30

money_curenncy = 'USD' # 'CNY' #Китайський Юань
money_amount = 250;

rate = currencies.get(money_curenncy, -1) 
if rate == -1 :
    print('Операції з {} не проводяться'.format(money_curenncy))
else:
    money_UAH = rate * money_amount
    print('Поточний курс {}. Ви отримаєте {} грн.'.format(rate, money_UAH))
```

{% embed url="https://realpython.com/python-string-formatting/" %}

### Циклы и словари

Итерирование по словарю — это очень часто встречающийся блок кода и полезно уметь это делать.

Для начала следует сказать, что словарь сам по себе — это итерируемый контейнер и по нему можно итерироваться в цикле for без необходимости заводить какой-то внешний счётчик и т.п. Создадим словарь в котором ключами будут числа, а значениями — числительные на английском:

```text
numbers = {
    1: "one",
    2: "two",
    3: "three"
}
```

Теперь давайте просто пройдём по словарю в цикле и выведем что нам возвращает итератор на каждой итерации:

```text
for x in numbers:
    print(x)
```

В выводе вы увидите:

1

2

3

Итерируя по словарю вы перебираете ключи словаря. Точно такое же поведение можно получить используя метод keys, но так вы явно укажете, что хотите перебрать ключи:

```text
for key in numbers.keys():
    print(key)
```

Часто необходимо перебрать именно значения словаря, для этого воспользуемся методом `values`:

```text
for val in numbers.values():
    print(val)
```

В выводе будет:

one

two

three

И переберем пары ключ значение используя метод items. На каждой итерации мы получим пару \(ключ, значение\):

```text
for key, value in numbers.items():
    print(key, value)
```

Вывод:

1 one

2 two

3 three

Что **нельзя** делать пока итерируетесь по словарю: нельзя удалять элементы из словаря, нельзя добавлять элементы в словарь. Но можно перезаписывать значения, если вы итерируетесь по ключам.

### Практична робота

* Оголосити словник, що має наступну структуру «ключ» - номерний знак транспортного засобу \(наприклад «АА2565ІН»\), значення «власник авто» \(наприклад, Іванов Іван\)
* Додати в словник два нові авто
* Знайти власника за номером автомобіля
* Обійти словник і вивести прізвища людей, які мають більше одного авто

```text
transport = {
    'AA1111AA': 'Іванов Іван',
    'IVANOV'  : 'Іванов Іван',
    'AA0007AA': 'Семенов Андрій',
    'AA007AA' : 'Іванов Іван',
    'AВ1111AВ': 'Вінниця Водоканал',
    'AІ1010КК': 'Семенов Андрій',
}

transport['II7777AA'] = 'Петренко Петро'
transport['АІ1234НН'] = 'Іванов Олексій'

find_number = 'AВ1111AВ'

car_owner = transport.get(find_number, '')

if car_owner:
    print('Власник авто з номером {} - {}'.format(find_number, car_owner))
else:     
    print('Авто з номером {} не знайдене'.format(find_number))

car_owners = dict()
for owner in transport.values():
    if car_owners.get(owner, 0) == 0:
        car_owners[owner] = 1
    else:
        auto_count = car_owners[owner];
        auto_count += 1
        car_owners[owner] = auto_count

for pip, auto_count in car_owners.items():
    if auto_count > 1 :
        print('Власник {} має наступну кількість авто - {}'.format(pip, auto_count))
```

### Домашня робота

* Дано словник, який містить «Прізвище»-«оцінка». На його основі створити новий словник, який буде містити лише учнів, які навчаються на 4 та 5
* Погода. В словаре сохранена информация о температуре в различных городах: ключами являются названия городов, значениями – температура. Рассчитайте среднюю температуру по данным городам

